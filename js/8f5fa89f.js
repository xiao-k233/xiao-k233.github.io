(()=>{let s="cosy-theme:toc-invisible",u="cosy-theme:scrolledHeight",m="cosy-theme:theme",p="dark",v=e=>Promise.all(e.map(r=>new Promise((e,t)=>{var n;"css"===r.type?((n=document.createElement("link")).href=r.url,n.rel="stylesheet",n.onload=()=>e(),n.onerror=()=>t(new Error("Failed to load CSS from "+r.url)),document.head.appendChild(n)):"js"===r.type?((n=document.createElement("script")).src=r.url,r.id&&(n.id=r.id),n.onload=()=>e(),n.onerror=()=>t(new Error("Failed to load JS from "+r.url)),document.body.appendChild(n)):t(new Error("Invalid resource type specified."))}))),h=e=>{var{enable:e,jsCdn:t,cssCdn:n}=e;e&&v([{type:"css",url:n},{type:"js",url:t}]).then(e=>{if(e){let r=/\$\$(.+?)\$\$/g,o=/\\\[(.+?)\\\]/g;function i(t,e,r){let n;for(var o=[];null!==(n=e.exec(t.nodeValue));){let e=document.createRange();e.setStart(t,n.index),e.setEnd(t,n.index+n[0].length),o.push(e)}for(let n of o){let e=n.toString().replace(/^\$\$|\$\$$|\\\[|\\\]$/g,""),t=document.createElement("span");t.innerHTML=window.katex.renderToString(e,{throwOnError:!1,displayMode:r}),n.deleteContents(),n.insertNode(t)}}document.querySelectorAll(".article-container").forEach(e=>{for(var t,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);t=n.nextNode();)i(t,r,!1),i(t,o,!0)})}})};var o=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let y=e=>{let{enable:t,cdn:n}=e,r=o(e,["enable","cdn"]);t&&v([{type:"js",url:n}]).then(e=>{var t;e&&((e=document.querySelector(".article-container"))&&((t=document.createElement("div")).id="vcomments",e.appendChild(t)),new window.Valine(Object.assign({el:"#vcomments"},r)))})},f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"></path><rect x="9" y="3" width="6" height="4" rx="2"></rect></g></svg>';function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"==i(e)?e:e+""}(r.key),r)}}function b(e){var t=e.selector,n=e.eventType,e=e.handler;null!=(t=document.querySelector(t))&&t.addEventListener(n,e)}e((t=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}).prototype,[{key:"emit",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,e=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});n.dispatchEvent(e)}},{key:"on",value:function(e,t){(2<arguments.length&&void 0!==arguments[2]?arguments[2]:document).addEventListener(e,t)}},{key:"off",value:function(e,t){(2<arguments.length&&void 0!==arguments[2]?arguments[2]:document).removeEventListener(e,t)}}]),Object.defineProperty(t,"prototype",{writable:!1});var t,g=new t;let w=e=>{document.querySelectorAll(".toc a").forEach(e=>e.classList.remove("active"));e=document.querySelector('.toc a[href="'+e+'"]');e&&e.classList.add("active")},n=void document.addEventListener("click",function(e){var t=e.target.closest(".toc-link");if(t){let e=t.getAttribute("href");e&&w(e)}});n=()=>{var o="main.cosy-scrollbar",t=document.querySelector(o);if(t){let e=localStorage.getItem(u);e&&(t.scrollTop=Number(e))}window.location.hash&&w(window.location.hash);var e,n,r,i,{mermaid:o,katex:t,valine:l,twikoo:a}=window;h(Object.assign(Object.assign({},t),{enable:-1<window.page.use.indexOf("katex")}));{var c=Object.assign(Object.assign({},o),{enable:-1<window.page.use.indexOf("mermaid")});let t,{enable:e,cdn:n,theme:r}=c;if(e){let e=document.getElementById("src-mermaid");e&&null!=(t=e.parentNode)&&t.removeChild(e),v([{type:"js",url:n,id:"src-mermaid"}]).then(e=>{e&&window.mermaid.initialize({startOnLoad:!0,theme:r||"neutral"})})}}y(Object.assign(Object.assign({},l),{enable:-1<window.page.use.indexOf("valine")}));{let{enable:e,cdn:t,envId:n,lang:r}=Object.assign(Object.assign({},a),{enable:window.page.use.indexOf("twikoo")>-1});e&&v([{type:"js",url:t}]).then(e=>{e&&window.twikoo.init({envId:n,el:"#tcomment",lang:r})})}document.querySelectorAll(".article-container article pre > code").forEach(n=>{var e=n.parentNode;if(e){var r=document.createElement("div"),o=(r.classList.add("code-wrapper"),e.parentNode.insertBefore(r,e),r.appendChild(e),document.createElement("div")),e=(o.classList.add("btn-wrapper"),e.getAttribute("data-language")),i=document.createElement("span");i.classList.add("lang"),i.textContent=e,o.appendChild(i);let t=document.createElement("span");t.className="copy-button",t.innerHTML=f,t.addEventListener("click",function(){var e=n.textContent;navigator.clipboard.writeText(e).then(()=>{t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"></path><rect x="9" y="3" width="6" height="4" rx="2"></rect><path d="M9 14l2 2l4-4"></path></g></svg>',setTimeout(()=>{t.innerHTML=f},2e3)})}),o.appendChild(t),r.appendChild(o)}}),(t=document.createElement("link")).setAttribute("id","prism-theme"),t.rel="stylesheet",t.type="text/css",t.href=`/lib/prism/one-${null!=(o=localStorage.getItem(m))?o:p}.css`,document.head.append(t);let d=document.querySelector("#toc-drag-box");d&&("true"===localStorage.getItem(s)?d.setAttribute("invisible",""):d.removeAttribute("invisible"),g.on("cosy-drag-box:toc-box",()=>{localStorage.setItem(s,"true"),d.invisible=!0}),b({selector:"#toc-show-button",eventType:"click",handler:()=>{localStorage.setItem(s,""+!d.invisible),d.invisible=!d.invisible}}),l=(c={key:"]",preventDefault:!0,handler:()=>{localStorage.setItem(s,""+!d.invisible),d.invisible=!d.invisible}}).key,e=c.handler,n=void 0!==(a=c.preventDefault)&&a,r=l.toLowerCase().split("+").map(function(e){return e.trim()}),i=/Mac|iPod|iPhone|iPad/.test(navigator.platform),document.addEventListener("keydown",function(t){r.every(function(e){return"control"===e?i?t.metaKey:t.ctrlKey:t.key.toLowerCase()===e})&&(n&&t.preventDefault(),e(t))})),b({selector:"main.cosy-scrollbar",eventType:"scroll",handler:()=>{var e="main.cosy-scrollbar",t=document.querySelector(e);if(t){let e=t.scrollTop;localStorage.setItem(u,String(e))}}})},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()})();